# ğŸ“Š AnÃ¡lise da EvoluÃ§Ã£o do Mercado de Trabalho por Setor no Brasil ğŸ‡§ğŸ‡·

Este projeto utiliza os dados da **RAIS (RelaÃ§Ã£o Anual de InformaÃ§Ãµes Sociais)** para analisar a evoluÃ§Ã£o do emprego formal no Brasil ao longo dos anos, explorando a distribuiÃ§Ã£o de empregos por setor, variaÃ§Ã£o salarial e tendÃªncias econÃ´micas regionais.

Os dados sÃ£o acessados diretamente da plataforma [**Base dos Dados**](https://basedosdados.org/) utilizando a linguagem **R** e o pacote `basedosdados`.

------------------------------------------------------------------------

O mercado de trabalho Ã© um dos principais indicadores da saÃºde econÃ´mica de um paÃ­s. A criaÃ§Ã£o e destruiÃ§Ã£o de empregos em diferentes setores refletem mudanÃ§as estruturais na economia, avanÃ§os tecnolÃ³gicos, polÃ­ticas governamentais e crises econÃ´micas.

Com esta anÃ¡lise, buscamos responder perguntas como:\
- **Quais setores estÃ£o crescendo e quais estÃ£o encolhendo?**\
- **Como os salÃ¡rios mÃ©dios evoluÃ­ram ao longo do tempo?**\
- **Existe desigualdade regional na geraÃ§Ã£o de empregos?**

------------------------------------------------------------------------

## ğŸ“‚ Estrutura do Projeto

-   `rais.R` â†’ ContÃ©m os cÃ³digos R utilizados na anÃ¡lise
-   `.keys` â†’ ContÃ©m o `ID_PROJECT` do Google Cloud
-   `data/` â†’ Pasta para armazenar os dados baixados (se necessÃ¡rio)
-   `README.md` â†’ Este arquivo, com a explicaÃ§Ã£o detalhada do projeto

------------------------------------------------------------------------

## ğŸ› ï¸ ConfiguraÃ§Ã£o e DependÃªncias

### **1ï¸âƒ£ Instalar Pacotes NecessÃ¡rios**

Antes de rodar o cÃ³digo, instale os pacotes necessÃ¡rios:

``` r
install.packages("basedosdados")
install.packages("tidyverse")
install.packages("ggplot2")
install.packages("sf")
```

### **2ï¸âƒ£ AutenticaÃ§Ã£o no Google Cloud**

Para acessar os dados da **RAIS** no `basedosdados`, Ã© necessÃ¡rio configurar um projeto no Google Cloud e autenticar a API. Eu adicionei um arquivo `.keys` na pasta contendo meu `ID_PROJECT` e fiz a leitura com o cÃ³digo abaixo:

``` r
library(basedosdados)
file.path(getwd(), ".keys") |> 
  readLines() |> 
  trimws() |> 
  basedosdados::set_billing_id()
```

------------------------------------------------------------------------

## ğŸ“Š Coleta de Dados

Utilizamos o pacote `basedosdados` para consultar a base da RAIS e extrair informaÃ§Ãµes sobre emprego e salÃ¡rio mÃ©dio por setor e regiÃ£o.

Primeiramente, estabelecemos a conexÃ£o com a tabela desejada e obtemos um vislumbre de como os dados estÃ£o organizados.

Para coletar os dados de fato, podemos aplicar filtros e seleÃ§Ãµes utilizando as funÃ§Ãµes do framework `tidyverse` e, em seguida, realizar a extraÃ§Ã£o com a funÃ§Ã£o `bd_collect()` do pacote `basedosdados`.

Alternativamente, Ã© possÃ­vel especificar uma query **SQL** diretamente para filtrar e selecionar os dados, coletando-os com a funÃ§Ã£o `read_sql()`. Neste primeiro momento, optei pelo uso das funÃ§Ãµes do `tidyverse` para um tratamento mais flexÃ­vel e integrado.

``` r
library(basedosdados)
library(tidyverse)

# Estabelecendo conexÃ£o e visualizando a estrutura dos dados
dados_rais <- basedosdados::bdplyr("basedosdados.br_me_rais.microdados_vinculos")
dados_rais |> glimpse()

# Aplicando filtros e coletando os dados
dados_evolucao_mt <- dados_rais |> 
  filter(
    ano >= 2020 & ano <= 2023,
    id_municipio == "3550308"
  ) |> 
  select(
    ano,
    cbo_2002,
    cnae_1,
    vinculo_ativo_3112,
    valor_remuneracao_media_sm
  ) |> 
  basedosdados::bd_collect()
```

**ExplicaÃ§Ã£o:**\
- Filtramos os anos de 2020 a 2023 para capturar uma tendÃªncia.\
- Filtramos pela cidade de SÃ£o Paulo (`id_municipio == "3550308"`).\
- Selecionamos o nÃºmero total de vÃ­nculos ativos e o salÃ¡rio mÃ©dio mensal em salÃ¡rios mÃ­nimos e setor econÃ´mico (cnae_1).

------------------------------------------------------------------------

## ğŸ“ˆ AnÃ¡lise ExploratÃ³ria

### **ğŸ“Š EvoluÃ§Ã£o do emprego por setor**

Criamos um grÃ¡fico para visualizar a evoluÃ§Ã£o do nÃºmero de empregos por setor ao longo dos anos.

``` r
dados_rais %>%
  group_by(ano, cnae_2_subclasse) %>%
  summarise(total_empregos = sum(vinculos_ativos, na.rm = TRUE)) %>%
  ggplot(aes(x = ano, y = total_empregos, color = cnae_2_subclasse)) +
  geom_line() +
  labs(title = "EvoluÃ§Ã£o do Emprego Formal por Setor",
       x = "Ano",
       y = "NÃºmero de Empregos") +
  theme_minimal() +
  theme(legend.position = "none")
```

ğŸ“Œ **O que podemos observar?**\
ğŸ”¹ Quais setores apresentaram maior crescimento?\
ğŸ”¹ Como crises econÃ´micas impactaram a geraÃ§Ã£o de empregos?

------------------------------------------------------------------------

### **ğŸ—ºï¸ Mapa da distribuiÃ§Ã£o de empregos por estado**

Usamos o pacote `sf` para visualizar a distribuiÃ§Ã£o regional do emprego formal.

``` r
library(ggplot2)
library(sf)

# Carregar shapefile do Brasil
brasil <- st_read("https://raw.githubusercontent.com/codeforamerica/click_that_hood/master/public/data/brazil-states.geojson")

# Agregar empregos por estado
emprego_estado <- dados_rais %>%
  group_by(sigla_uf) %>%
  summarise(total_empregos = sum(vinculos_ativos, na.rm = TRUE))

# Criar mapa temÃ¡tico
ggplot(data = brasil) +
  geom_sf(aes(fill = total_empregos), data = emprego_estado) +
  scale_fill_viridis_c() +
  labs(title = "DistribuiÃ§Ã£o do Emprego por Estado") +
  theme_minimal() +
  theme(legend.position = "none")
```

ğŸ“Œ **O que podemos observar?**\
ğŸ”¹ Quais estados concentram mais empregos?\
ğŸ”¹ Existe desigualdade regional no mercado de trabalho?

------------------------------------------------------------------------

## ğŸš€ ConclusÃµes e PrÃ³ximos Passos

A partir dos grÃ¡ficos e anÃ¡lises, podemos tirar algumas conclusÃµes sobre o comportamento do emprego formal no Brasil.\
ğŸ” **PossÃ­veis descobertas:**\
- Quais setores tiveram maior expansÃ£o nos Ãºltimos anos\
- Como eventos econÃ´micos impactaram o mercado de trabalho\
- DiferenÃ§as salariais entre setores

ğŸ’¡ **PrÃ³ximos passos:**\
- Aplicar modelos estatÃ­sticos para prever tendÃªncias futuras\
- Comparar os dados da RAIS com indicadores macroeconÃ´micos\
- Explorar diferenÃ§as entre pequenas e grandes empresas

------------------------------------------------------------------------

## ğŸ“Œ Contato

Caso tenha dÃºvidas ou sugestÃµes, fique Ã  vontade para contribuir!

ğŸ“§ **Email:** [mandicneves\@gmail.com](mailto:mandicneves@gmail.com){.email}\
ğŸ“‚ **GitHub:** [github.com/mandicneves](https://github.com/mandicneves)

ğŸ› ï¸ **ContribuiÃ§Ãµes sÃ£o bem-vindas!** Caso queira colaborar, abra uma issue ou envie um pull request. ğŸš€
